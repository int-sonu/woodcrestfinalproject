<table border="1">
    <thead>
        <tr>
            <th>SL No</th>
            <th>User</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Amount</th>
            <th>Address</th>
            <th>City</th>
            <th>District</th>
            <th>Pincode</th>
            
        </tr>
    </thead>
    <tbody>
        {% for assignment in assignments %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ assignment.order.user.username }}</td>
            <td>{{ assignment.order.product.name }}</td>
            <td>{{ assignment.order.quantity }}</td>

            <td><strong>{{ assignment.order.amount }}</strong></td>
            
            {% with assignment.order.user.addresses.first as address %}
                <td>{{ address.address_line|default:"No Address" }}</td>
                <td>{{ address.city|default:"-" }}</td>
                <td>{{ address.district|default:"-" }}</td>
                <td>{{ address.pincode|default:"000000" }}</td>
            {% endwith %}
            
           
        </tr>
        {% endfor %}
    </tbody>
</table>
